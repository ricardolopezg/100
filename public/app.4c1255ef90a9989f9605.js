webpackJsonp([1,2],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["MESSAGE","INIT","DATA","EMIT","OPEN","CLOSE","FLUSH","DESTROY","CONNECT","RECONNECT","DISCONNECT","AUTHENTICATE","RECONNECTING","OPENED","CLOSED","DESTROYED","INITIALIZED","CONNECTED","DISCONNECTED","RECONNECTED","AUTHORIZED","UNAUTHORIZED","RECONNECT_ATTEMPT","RECONNECT_FAILED","RECONNECT_ERROR","CONNECT_ERROR","ERROR","WARN"].map(function(e){return"IO_"+e}).reduce(function(e,t){return e[t]=t,e},{})},170:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){switch(t){case"create":return function(t){return{type:e,text:t}};case"delete":return function(t){return{type:e,payload:{index:t}}};case"update":return function(t){return{type:e,payload:a({},t)}};default:return function(){}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=t.CREATE_TODO="CREATE_TODO",l=t.DELETE_TODO="DELETE_TODO",i=t.UPDATE_TODO="UPDATE_TODO",c=t.FETCH_TODOS="FETCH_TODOS";t.default=[u,l,i,c].reduce(function(e,t){var n=""+t,u=n.replace(/_TODO?S/,"").toLowerCase();return a({},e,r({},u,o(t,u)))},{})},252:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(161);var o=n(2),a=r(o),u=n(162),l=r(u),i=n(38),c=n(83),s=n(282),d=r(s),f=n(290),p=r(f);n(483);var m=(0,p.default)(__INITIAL_STATE__||void 0,{history:i.browserHistory}),E=(0,c.syncHistoryWithStore)(i.browserHistory,m);l.default.render(a.default.createElement(d.default,{store:m,history:E}),document.getElementById("app"))},271:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Profile=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),c=r(i),s=n(38),d=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props.user;return c.default.createElement("section",null,c.default.cloneElement(this.props.children,{user:e}))}}]),t}(i.PureComponent);t.default=d,d.propTypes={};t.Profile=function(e){return e.user?c.default.createElement("section",null):c.default.createElement("section",null,c.default.createElement("header",null,c.default.createElement("h3",null,"Oops!")),c.default.createElement("footer",null,c.default.createElement("p",null,"You need to be logged in to view your profile. ",c.default.createElement(s.Link,{to:"/login"},c.default.createElement("u",null,"Login now."))),c.default.createElement("p",null,"Forgot your password? It happens. ",c.default.createElement(s.Link,{to:"/triage"},c.default.createElement("u",null,"Visit the triage."))),c.default.createElement("p",null,"Don't have an account? ",c.default.createElement(s.Link,{to:"/register"},c.default.createElement("u",null,"Come join the family.")))))}},272:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),d=r(s),f=n(83),p=n(106),m=n(61),E=n(284),h=(r(E),n(289)),v=r(h),y=n(280),g=r(y),b=function(e){function t(e){a(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fullscreen:!1,logs:[]},n}return l(t,e),c(t,[{key:"render",value:function(){var e=this,t=this.props,n=(this.state,this.compareAndCast),r=t.user,o=t.messenger,a=t.todo;return d.default.createElement("main",{id:"main",role:"main",ref:function(t){return t?e.main=t:null}},d.default.createElement("section",{className:"navigator",id:"nav"},d.default.createElement(g.default,null),d.default.createElement("section",{className:"main-content"},t.children?n(t.children,{app:{io:{users:E.Users,todo:E.Todos}},user:r,todo:a,messenger:o}):null),d.default.createElement("footer",null,d.default.createElement("h6",null,"Copyright Â© "+(new Date).getFullYear()+" 100 L.L.C. All Rights Reserved."))))}},{key:"compareAndCast",value:function(e,t){return d.default.cloneElement(e,t)}}]),t}(s.PureComponent);b.propTypes={children:s.PropTypes.element,history:s.PropTypes.object,location:s.PropTypes.object,params:s.PropTypes.object,route:s.PropTypes.object,routes:s.PropTypes.array,routeParams:s.PropTypes.object,routing:s.PropTypes.object,router:s.PropTypes.object,messenger:s.PropTypes.object,posts:s.PropTypes.array,todo:s.PropTypes.object,tokens:s.PropTypes.object,user:s.PropTypes.object},b.defaultProps={},t.default=(0,p.connect)(function(e,t){return i({},t,e)},function(e,t){var n=(0,E.Threads)(e);return i({messenger:{socket:n.threads,actions:(0,m.bindActionCreators)(n.actions,e)},router:(0,m.bindActionCreators)({push:f.push,replace:f.replace,go:f.go,goForward:f.goForward,goBack:f.goBack},e)},Object.keys(v.default).reduce(function(t,n){return"io"===n?i({},t,o({},n,{init:function(){return e({type:v.default.io.IO_INIT})},open:function(){return e({type:v.default.io.IO_OPEN})},close:function(){return e({type:v.default.io.IO_CLOSE})},join:function(t){return e({type:v.default.io.IO_JOIN,room:t})},leave:function(t){return e({type:v.default.io.IO_LEAVE,room:t})},broadcast:function(t,n){return e({type:v.default.io.IO_BROADCAST,room:t,message:n})},emit:function(t,n){return e({type:v.default.io.IO_EMIT,message:t,cb:n})}})):i({},t,o({},n,(0,m.bindActionCreators)(v.default[n],e)))},{}))},function(e,t,n){return i({},Object.keys(t).reduce(function(e,n){return e[n]?i({},e,o({},n,i({},e[n],t[n]))):i({},e,o({},n,t[n]))},i({},e)))},{pure:!0,withRef:!1})(b)},273:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Recovery=t.Triage=t.Register=t.Login=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),c=r(i),s=n(38),d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={email:"",password:"",token:null},n.login=n.login.bind(n),n.register=n.register.bind(n),n.verify=n.verify.bind(n),n.updateEmail=n.updateEmail.bind(n),n.updatePassword=n.updatePassword.bind(n),n}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=(this.state,this.login),n=this.register,r=this.verify,o=this.updateEmail,a=this.updatePassword,u=e.email,l=e.password;return c.default.cloneElement(this.props.children,{email:u,password:l,login:t,register:n,verify:r,updateEmail:o,updatePassword:a})}},{key:"login",value:function(){var e=this.state,t=e.email,n=e.password;console.log(t,n)}},{key:"register",value:function(){var e=this.state,t=e.email,n=e.password;console.log(t,n)}},{key:"verify",value:function(){var e=this.state.token;console.log(e)}},{key:"updateEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return this.setState({email:e},t)}},{key:"updatePassword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return this.setState({password:e},t)}}]),t}(i.PureComponent);t.default=d;var f=t.Login=function(e){var t=e.email,n=e.password,r=e.login,o=e.updateEmail,a=e.updatePassword;return c.default.createElement("section",{className:"auth-login"},c.default.createElement("header",null,c.default.createElement("h3",null,"Log In")),c.default.createElement("form",{id:"login",onSubmit:function(e){return e.preventDefault(),r()}},c.default.createElement("div",null,c.default.createElement("input",{type:"email",value:t,placeholder:"email",onChange:function(e){return o(e.target.value)}})),c.default.createElement("div",null,c.default.createElement("input",{type:"password",value:n,placeholder:"password",onChange:function(e){return a(e.target.value)}})),c.default.createElement("button",{type:"submit"},"Continue")),c.default.createElement("footer",null,c.default.createElement("p",null,"Forgot your password? It happens. ",c.default.createElement(s.Link,{to:"/triage"},c.default.createElement("u",null,"Visit the triage."))),c.default.createElement("p",null,"Don't have an account? ",c.default.createElement(s.Link,{to:"/register"},c.default.createElement("u",null,"Come join the family.")))))};f.propTypes={};var p=t.Register=function(e){var t=e.email,n=e.password,r=e.register,o=e.updateEmail,a=e.updatePassword;return c.default.createElement("section",{className:"auth-register"},c.default.createElement("header",null,c.default.createElement("h3",null,"Sign Up")),c.default.createElement("form",{id:"register",onSubmit:function(e){return e.preventDefault(),r()}},c.default.createElement("div",null,c.default.createElement("input",{type:"email",value:t,placeholder:"email",onChange:function(e){return o(e.target.value)}})),c.default.createElement("div",null,c.default.createElement("input",{type:"password",value:n,placeholder:"password",onChange:function(e){return a(e.target.value)}})),c.default.createElement("button",{type:"submit"},"Continue")),c.default.createElement("footer",null,c.default.createElement("p",null,"Already have an account? ",c.default.createElement(s.Link,{to:"/login"},c.default.createElement("u",null,"Log in."))),c.default.createElement("p",null,"Forgot your password? It happens. ",c.default.createElement(s.Link,{to:"/triage"},c.default.createElement("u",null,"Visit the triage.")))))};p.propTypes={};var m=t.Triage=function(e){return c.default.createElement("section",null,c.default.createElement("header",null,c.default.createElement("h3",null,"Triage")),c.default.createElement("form",null,c.default.createElement("p",null,"If you forgot your password, go ahead and supply your email to reset your credentials."),c.default.createElement("input",{placeholder:"email"}),c.default.createElement("button",{type:"submit"},"Send Email")),c.default.createElement("footer",null,c.default.createElement("p",null,"Suddenly remembered your credentials? ",c.default.createElement(s.Link,{to:"/login"},c.default.createElement("u",null,"Log in.")))))};m.propTypes={};var E=t.Recovery=function(e){return null};E.propTypes={}},274:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return u.default.createElement("div",null,u.default.createElement("h2",null,"Hey There!"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(2),u=r(a);o.propTypes={}},275:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.logs,n=void 0===t?[]:t;return l.default.createElement("article",null,l.default.createElement("header",null,l.default.createElement("h3",null,"Server Messages")),l.default.Children.toArray(n.map(function(e){return l.default.createElement(a,e)})))}function a(e){var t=e.message,n=void 0===t?"":t,r=e.timestamp,o=void 0===r?0:r;return l.default.createElement("section",null,l.default.createElement("p",null,n),l.default.createElement("p",null,new Date(o).toString()))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.Entry=a;var u=n(2),l=r(u);o.propTypes={logs:u.PropTypes.array},a.propTypes={message:u.PropTypes.string,timestamp:u.PropTypes.number}},276:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),c=r(i),s=n(298),d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={mimeType:"",codec:"",bitsPerSecond:128e3,audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,streaming:!1,recorder:!1,recordingStart:!1,recording:!1,playing:!1},n.Recorder=n.Recorder.bind(n),n.RecorderOptions=n.RecorderOptions.bind(n),n.getUserMedia=n.getUserMedia.bind(n),n}return u(t,e),l(t,[{key:"render",value:function(){var e=this.Recorder;this.RecorderOptions;return c.default.createElement("div",{className:"media"},c.default.createElement(e,null))}},{key:"Player",value:function(e){this.state.playing;return c.default.createElement("section",null)}},{key:"Download",value:function(e){this.state.playing;return c.default.createElement("section",null)}},{key:"RecorderOptions",value:function(e){var t=this,n=this.state,r=n.mimeType,o=n.bitsPerSecond,a=n.audioBitsPerSecond,u=n.videoBitsPerSecond;return c.default.createElement("div",null,c.default.createElement("section",null,c.default.createElement("header",null,c.default.createElement("p",null,"MIME: ",r||"none"),c.default.createElement("p",null,"Bits Per Second: ",o||0),c.default.createElement("p",null,"Audio Bits Per Second: ",a||0),c.default.createElement("p",null,"Video Bits Per Second: ",u||0)),c.default.createElement("p",null,c.default.createElement("label",null,"MIME Type:",c.default.createElement("select",{onChange:function(e){t.setState({mimeType:e.target.value})}},c.default.createElement("option",{value:"audio/ogg"},"Audio: OGG"),c.default.createElement("option",{value:"audio/mpeg"},"Audio: MPEG"),c.default.createElement("option",{value:"video/mp4"},"Video: MP4"),c.default.createElement("option",{value:"video/mpeg"},"Video: MPEG")))),c.default.createElement("p",null,c.default.createElement("label",null,"Bits Per Second: ",c.default.createElement("select",{onChange:function(e){t.setState({bitsPerSecond:e.target.value})}},c.default.createElement("option",{value:"128000"},"128 kbps"),c.default.createElement("option",{value:"192000"},"192 kbps"),c.default.createElement("option",{value:"256000"},"256 kbps"),c.default.createElement("option",{value:"320000"},"320 kbps")))),c.default.createElement("p",null,c.default.createElement("label",null,"Audio Bits Per Second: ",c.default.createElement("select",{onChange:function(e){t.setState({audioBitsPerSecond:e.target.value})}},c.default.createElement("option",{value:"128000"},"128 kbps"),c.default.createElement("option",{value:"192000"},"192 kbps"),c.default.createElement("option",{value:"256000"},"256 kbps"),c.default.createElement("option",{value:"320000"},"320 kbps")))),c.default.createElement("p",null,c.default.createElement("label",null,"Video Bits Per Second: ",c.default.createElement("select",{onChange:function(e){t.setState({videoBitsPerSecond:e.target.value})}},c.default.createElement("option",{value:1843200},"320 x 240"),c.default.createElement("option",{value:7372800},"480 x 640"),c.default.createElement("option",{value:18874368},"1024 x 768")))),c.default.createElement("p",null,c.default.createElement("button",{onClick:function(e){t.record({audio:!0},function(e){})}},"Record Media"))))}},{key:"Recorder",value:function(e){var t=this,n=this.state,r=n.recorder,o=n.recordingStart,a=n.recording,u=this.RecorderOptions;return r?c.default.createElement("section",null,c.default.createElement("p",null,c.default.createElement("button",{onClick:function(e){a?t.recorder.pause():t.recorder.resume()}},a?"Pause":"Resume")),c.default.createElement("p",null,c.default.createElement("button",{onClick:function(e){o?t.recorder.stop():t.recorder.start()}},a?"Stop":"Start"))):c.default.createElement(u,null)}},{key:"downloadChunks",value:function(){new Blob(this.recordingChunks,{type:this.state.mimeType});this.recordingChunks=[]}},{key:"record",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0},n=arguments[1],r=this.state,o=r.mimeType,a=r.bitsPerSecond;r.audioBitsPerSecond,r.videoBitsPerSecond;return this.getUserMedia(t,function(t){(0,s.MediaRecorder)(t,{mimeType:o,bitsPerSecond:a}).then(function(t){e.setState({recorder:!0},function(){e.recordingChunks=[],t.ondataavailable(function(t){e.recordingChunks.push(t.data)}),t.onstart(function(t){e.setState({recordingStart:!0,recording:!0})}),t.onstop(function(t){e.setState({recordingStart:!1,recording:!1})}),t.onresume(function(t){e.setState({recording:!0})}),t.onpause(function(t){e.setState({recording:!1})}),t.onerror(function(n){e.setState({error:new Error({type:"MediaRecorder",state:{mimeType:t.mimeType,audioBitsPerSecond:t.audioBitsPerSecond,videoBitsPerSecond:t.videoBitsPerSecond,state:t.state},message:n.message})})}),e.recorder=t,n?n(t):null})}).catch(function(e){return console.log(e)})})}},{key:"getUserMedia",value:function(e,t){var n=this;return this.stream?this.stream:(0,s.GUM)(e).then(function(e){return console.log("GUM stream: ",e),n.setState({streaming:!0},function(){n.stream=e,t?t(e):null}),e}).catch(function(e){return console.log(e)})}}]),t}(i.PureComponent);t.default=d,d.propTypes={},d.defaultProps={mimeTypes:{audio:["audio/webm","audio/webm;codecs=opus","audio/ogg; codecs=opus"],video:["video/webm","video/webm;codecs=vp8","video/webm;codecs=daala","video/webm;codecs=h264","video/mpeg"]}}},277:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(e._id,e.uid,e.thread,e.message);e.edited,e.updatedAt,e.createdAt;return i.default.createElement("li",{className:"message-item"},i.default.createElement("article",null,i.default.createElement("header",null),i.default.createElement("p",null,t),i.default.createElement("footer",null)))}function a(e){var t=e.messages,n=void 0===t?[]:t;return i.default.createElement("ul",{className:"message-list"},n.map(function(e){return i.default.createElement(o,u({key:e._id},e))}))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var l=n(2),i=r(l);a.propTypes={messages:l.PropTypes.array}},278:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e._id,n=e.title,r=void 0===n?t:n;return i.default.createElement("li",null,i.default.createElement(c.Link,{to:"/messenger/"+t},r))}function a(e){var t=e.threads;e.actions;return i.default.createElement("div",{className:"messenger-threads"},i.default.createElement("div",null),i.default.createElement("ul",null,t.map(function(e){return i.default.createElement(o,u({key:e._id},e))})))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var l=n(2),i=r(l),c=n(38);a.propTypes={threads:l.PropTypes.array}},279:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=t.Messages=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),s=r(c),d=n(38),f=n(278),p=r(f),m=n(277),E=r(m);t.Messages=E.default,t.Threads=p.default;var h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return u(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.messenger||{};t.threads,t.messages,t.events,t.typing,t.party,t.thread,t.message,t.actions;return s.default.createElement("section",{className:"messenger"},s.default.createElement("header",null,s.default.createElement("div",null,s.default.createElement(d.IndexLink,{to:"/messenger"},"Threads"))),s.default.cloneElement(e.children,l({},e.messenger)))}}]),t}(s.default.Component);t.default=h,h.propTypes={}},280:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){e.children,e.user;return u.default.createElement("header",{className:"menu"},u.default.createElement(l.IndexLink,{to:"/"},u.default.createElement("h1",null,u.default.createElement("i",null,"100"))),u.default.createElement(l.Link,{to:"/login"},u.default.createElement("h2",null,"Login")),u.default.createElement(l.Link,{to:"/register"},u.default.createElement("h2",null,"Sign Up")),u.default.createElement(l.Link,{to:"/triage"},u.default.createElement("h2",null,"Help Desk")),u.default.createElement(l.Link,{to:"/account"},u.default.createElement("h2",null,"Account")),u.default.createElement(l.Link,{to:"/messenger"},u.default.createElement("h2",null,"Message ",u.default.createElement("img",{src:"images/aim.logo.png",height:"24px"}))),u.default.createElement(l.Link,{to:"/posts"},u.default.createElement("h2",null,"Posts")),u.default.createElement(l.Link,{to:"/media"},u.default.createElement("h2",null,"Media")),u.default.createElement(l.Link,{to:"/todo"},u.default.createElement("h2",null,"Todo")),u.default.createElement(l.Link,{to:"/log"},u.default.createElement("h2",null,"Log")))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(2),u=r(a),l=n(38)},281:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),c=r(i),s="48px",d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={message:""};var r=n.Thread=n.Thread.bind(n);r.propTypes={title:i.PropTypes.string};var u=n.Message=n.Message.bind(n);u.propTypes={from:i.PropTypes.string,text:i.PropTypes.string};n.Composer=n.Composer.bind(n);return n}return u(t,e),l(t,[{key:"Thread",value:function(e){var t=e.messages,n=this.Message,r=this.Composer;return c.default.createElement("section",null,t.length?c.default.createElement("ul",{className:"message-thread"},c.default.Children.toArray(t.map(function(e){return c.default.createElement("li",null,c.default.createElement(n,e))}))):null,c.default.createElement("hr",null),c.default.createElement(r,null))}},{key:"Message",value:function(e){var t=this.MessageReactions,n=(e._id,e.title),r=e.from,o=e.text,a=e.timestamp,u=e.comments,l=void 0===u?[]:u;e.likes;return c.default.createElement("article",{className:"message"},c.default.createElement("header",null,c.default.createElement("h3",null,n),c.default.createElement("cite",{className:"message-author"},r)),c.default.createElement("section",null,c.default.createElement("blockquotes",null,c.default.createElement("p",{className:"message-text"},o))),c.default.createElement(t,{comments:l}),c.default.createElement("footer",null,c.default.createElement("time",{className:"message-timestamp",dateTime:new Date(a).toString()},a)))}},{key:"MessageReactions",value:function(e){var t=e.comments;return c.default.createElement("aside",{className:"message-reactions"},c.default.Children.toArray([c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/like-2.svg",height:"40px"})),c.default.createElement("span",null,t.length+" comments"),c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/badge.reply.svg",height:"40px"})),c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/compose.svg",height:"40px"})),c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/garbage-1.svg",height:"40px"}))].concat([c.default.createElement("button",{type:"button"},"Share")])))}},{key:"MessageFlags",value:function(e){return c.default.createElement("div",null,c.default.createElement("button",{type:"button"},"Inappropriate"),c.default.createElement("button",{type:"button"},"Vulgar"),c.default.createElement("button",{type:"button"},"Threatening"))}},{key:"Composer",value:function(e){var t=this,n=this.state.message;return c.default.createElement("div",{className:"composer"},c.default.createElement("div",{className:"compose-types"},c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/compose.svg",height:s})),c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/microphone-1.svg",height:s})),c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/photo-camera.svg",height:s})),c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/video-camera.svg",height:s}))),c.default.createElement("div",{className:"compose-tags",style:{width:"20%",float:"right"}},c.default.createElement("button",null,c.default.createElement("img",{src:"icons/essentials/placeholder.svg",height:s})),c.default.createElement("h3",null,c.default.createElement("button",{type:"button"},"$")),c.default.createElement("h3",null,c.default.createElement("button",{type:"button"},"#")),c.default.createElement("h3",null,c.default.createElement("button",{type:"button"},"@")),c.default.createElement("h3",null,c.default.createElement("button",{type:"button"},"&"))),c.default.createElement("form",{id:"composer",onSubmit:function(e){return e.preventDefault()},style:{width:"80%",float:"left"}},c.default.createElement("div",null,c.default.createElement("input",{name:"composer-title",type:"text",placeholder:"Title",value:n,onChange:function(e){return t.setState({title:e.target.value})}})),c.default.createElement("div",null,c.default.createElement("input",{name:"composer-message",type:"text",placeholder:"Message",value:n,onChange:function(e){return t.setState({message:e.target.value})}})),c.default.createElement("button",{type:"submit"},c.default.createElement("img",{src:"icons/paper-plane.svg",height:s}))))}},{key:"ComposerActions",value:function(e){return c.default.createElement("aside",{className:"composer-actions"},c.default.createElement("button",{type:"button"},"Save"),c.default.createElement("button",{type:"button"},"Discard"),c.default.createElement("button",{type:"button"},"Send"))}},{key:"ComposerTypes",value:function(e){return c.default.createElement("div",{className:"composer-types"},c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/edit.svg",height:s})),c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/microphone-1.svg",height:s})),c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/photo-camera.svg",height:s})),c.default.createElement("button",{type:"button"},c.default.createElement("img",{src:"icons/essentials/video-camera.svg",height:s})))}},{key:"ComposerTags",value:function(e){return c.default.createElement("div",{className:"composer-tags"},c.default.createElement("button",{type:"button"},"Usertag"),c.default.createElement("button",{type:"button"},"Hashtag"),c.default.createElement("button",{type:"button"},"Geotag"),c.default.createElement("button",{type:"button"},"Datetag"),c.default.createElement("button",{type:"button"},"Cashtag"),c.default.createElement("button",{type:"button"},"Labeltag"))}},{key:"render",value:function(){var e=this.Thread;return c.default.createElement("section",{className:"messenger"},c.default.createElement(e,{messages:this.props.messages}))}}]),t}(c.default.PureComponent);t.default=d,d.propTypes={messages:i.PropTypes.array},d.defaultProps={messages:[{_id:"akcgi778eiuco7hai",title:"Superbowl",from:"@mike",text:"This is outrageous!"}]}},282:function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),u=n(38),l=n(106),i=n(288),c=r(i),s=function(e){var t=e.store,n=e.history,r=void 0===n?u.browserHistory:n;return a.default.createElement(l.Provider,{store:t},a.default.createElement(u.Router,{history:r,routes:c.default,createElement:function(e,t){return a.default.createElement(e,t)}}))};s.propTypes={store:o.PropTypes.object.isRequired,history:o.PropTypes.object.isRequired},t.default=s},283:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),s=r(c),d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={connected:!1,text:"",todos:[]},n.Todo=n.Todo.bind(n),n.init=n.init.bind(n),n.destroy=n.destroy.bind(n),n.connect=n.connect.bind(n),n.disconnect=n.disconnect.bind(n),n.fetch=n.fetch.bind(n),n.create=n.create.bind(n),n.edit=n.edit.bind(n),n.discard=n.discard.bind(n),n}return u(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.init();console.log(e)}},{key:"componentWillUnmount",value:function(){this.todos.destroy()}},{key:"render",value:function(){var e=this,t=(this.props,this.state),n=this.Todo,r=t.connected,o=t.text,a=t.todos;return s.default.createElement("section",{className:"todos"},s.default.createElement("header",null,s.default.createElement("h3",null,"Todos")),s.default.createElement("ul",null,a.map(function(e){return s.default.createElement(n,l({key:e._id},e))})),s.default.createElement("hr",null),s.default.createElement("form",{id:"todo-maker",onSubmit:function(e){return e.preventDefault()}},s.default.createElement("input",{type:"text",onChange:function(t){var n=t.target;return e.setState({text:n.value})},value:o}),s.default.createElement("button",{type:"button",disabled:!r,onClick:function(t){return e.create(o)}},"Create")),s.default.createElement("footer",null,s.default.createElement("p",null,"Count: ",a.length),s.default.createElement("button",{type:"button",disabled:!r,onClick:function(){return e.fetch()}},"Fetch"),s.default.createElement("button",{type:"button",onClick:r?this.disconnect:this.connect},r?"Disconnect":"Connect")))}},{key:"Todo",value:function(e){var t=this,n=e._id,r=e.text,o=e.completed;e.completedAt;return s.default.createElement("li",{className:"todo-item"},s.default.createElement("p",null,r),s.default.createElement("button",{type:"button",onClick:function(e){return t.edit(n,{text:r,completed:!o})}},o?"complete":"incomplete"),s.default.createElement("button",{type:"button",onClick:function(e){return t.discard(n)}},"Delete"))}},{key:"init",value:function(){if(this.todos)return this.todos;var e=this.todos=this.props.app.io.todo();return this.todoIO=e.init(function(){console.log("onConnect")},function(e){console.log("onMessage: ",e)},function(){console.log("onDisconnect")}),this.todoIO}},{key:"destroy",value:function(){this.todos&&(this.todos.destroy(),this.todos=this.todoIO=null)}},{key:"connect",value:function(){return!(!this.todoIO||!this.todoIO.connected)||void this.setState({connected:!0},this.todos.connect)}},{key:"disconnect",value:function(){return!(!this.todoIO||!this.todoIO.disconnected)||void this.setState({connected:!1},this.todos.disconnect)}},{key:"fetch",value:function(e){var t=this;if(this.todos&&this.state.connected)return this.todos.fetch(e,function(e){console.log("response: ",e);var n=e.data;return t.setState({todos:n})})}},{key:"create",value:function(e){var t=this;if(this.todos&&this.state.connected)return this.todos.create({text:e},function(e){var n=e.data;return console.log("todo created - data: ",n),t.setState(function(e){return{text:"",todos:e.todos.concat(n)}})})}},{key:"edit",value:function(e,t){var n=this,r=t.text,o=t.completed;if(this.todos&&this.state.connected)return this.todos.edit({id:e,text:r,completed:o},function(e){var t=e.data;return n.setState(function(e){return{todos:e.todos.map(function(e){return e._id===t._id?t:e})}})})}},{key:"discard",value:function(e){var t=this;if(this.todos&&this.state.connected)return this.todos.delete({id:e},function(e){var n=e.data;return console.log("deleted response: ",e),t.setState(function(e){return{todos:e.todos.filter(function(e){return e._id!==n._id})}})})}}]),t}(s.default.Component);t.default=d,d.propTypes={}},284:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){function e(e){var t=JSON.parse(e),n=t.type,r=t.name,o=t.data;switch(console.log("message: ",{type:n,name:r,data:o}),n){default:return;case"response":switch(r){default:return;case"authenticated":return;case"unauthorized":return}}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{transports:["websocket"],autoConnect:!1},n=io.connect(location.origin,t),r=__INITIAL_STATE__.tokens.jwt;n.keys={jwt:r};return n.on("connect",function(){console.log("connected")}).on("message",function(t){return e(t)}).on("disconnect",function(){console.log("disconnected")}).on("reconnect",function(e){console.log("reconnection success - attempts: ",e)}).on("error",function(e){return console.log("error: ",e)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=t.Users=t.Todos=void 0,t.default=o;var a=n(285),u=r(a),l=n(287),i=r(l),c=n(286),s=r(c);t.Todos=s.default,t.Users=i.default,t.Threads=u.default},285:function(e,t,n){"use strict";function r(){function e(e,t){return function(n,r,a){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return console.log(e)};return e(JSON.stringify({type:"",name:n,data:o({},a,{action:r,id:t})}),u)}}var t=io.connect(location.origin+"/threads"),n=e(t.send,t.id),r=void 0,a=void 0,u=r={sendMessage:function(e,t,r){return n("message","post",{message:e,thread:t},r)},editMessage:function(e,t,r){return n("message","edit",{id:e,message:t,thread:thread},r)},deleteMessage:function(e,t){return n("message","delete",{id:e},t)},fetchThreads:function(e){return n("thread","fetch",{},function(t){var n=t.data;return e({threads:n.threads})})},isTyping:function(e,t,r){return n("thread","typing",{thread:e,typing:t},r)},joinThread:function(e,t){return n("thread","join",{thread:e},function(e){var n=e.data;return t({messages:n.messages})})},leaveThread:function(e,t){return n("thread","leave",{thread:e},t)}},l=u.sendMessage,i=u.editMessage,c=u.deleteMessage,s=u.fetchThreads,d=u.isTyping,f=u.joinThread,p=u.leaveThread,m=a={fetch_threads:function(){return function(e){return s(function(t){var n=t.threads;return e({type:"MESSENGER_FETCH_THREADS",threads:n})})}},update_message:function(e){return{type:"MESSENGER_UPDATE_MESSAGE",message:e}},send_message:function(e,t){return function(n){return l(e,t,function(e){var t=e.data;return n({type:"MESSENGER_SEND_MESSAGE",message:t.message})})}},edit_message:function(e,t){return function(n){return i(e,t,function(e){var t=e.data;return n({type:"MESSENGER_EDIT_MESSAGE",message:t.message})})}},delete_message:function(e){return function(t){return c(e,function(e){var n=e.data;return t({type:"MESSENGER_DELETE_MESSAGE",message:n.message})})}},is_typing:function(e,t){return function(n){return d(t,e,function(){return n({type:"MESSENGER_TYPING",typing:e})})}},join_thread:function(e){return function(t){return f(e,function(){return t({type:"MESSENGER_JOIN_THREAD",thread:e})})}},leave_thread:function(e){return function(t){return p(e,function(){return t({type:"MESSENGER_LEAVE_THREAD"})})}},_event:function(e,t){return{type:e,uid:t}}},E=(m.fetch_threads,m.send_message,m.edit_message,m.delete_message,m.is_typing,m.join_thread,m.leave_thread,m._event);return t.on("connection",function(){return null}),t.on("message",function(e){var t=(e.error,e.data),n=t.action,r=t.uid,o=t.typing;switch(n){default:return;case"joined":return E("MESSENGER_JOINED_EVENT",{event:{uid:r}});case"left":return E("MESSENGER_LEFT_EVENT",{event:{uid:r}});case"typing":return E("MESSENGER_TYPING_EVENT",{event:{uid:r},typing:o})}}),t.on("disconnect",function(e){}),{threads:t,actions:a}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r},286:function(e,t,n){"use strict";function r(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return JSON.stringify(e&&t?{type:e,name:t,data:n}:{type:"ping",name:"pong"})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{transports:["websocket"],autoConnect:!1},n=null,r=function(e){return console.log(e)};return{init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return n?n:(n=io.connect(location.origin+"/todos",t),n.on("connect",e),n.on("message",o),n.on("disconnect",a),n)},connect:function(){return n?n.open():null},disconnect:function(){return n?n.close():null},destroy:function(){n&&(n.destroy(),n=null)},emit:function(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;n.send(e(t,o,a),u=r)},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return n?n.send(e("method","fetch",t),o):null},create:function(t){var o=t.text,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return n?n.send(e("method","create",{text:o}),a):null},edit:function(t){var o=t.id,a=t.text,u=t.completed,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return n?n.send(e("method","edit",{id:o,text:a,completed:u}),l):null},delete:function(t){var o=t.id,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return n?n.send(e("method","delete",{id:o}),a):null}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},287:function(e,t,n){"use strict";function r(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return JSON.stringify(e&&t?{type:e,name:t,data:n}:{type:"ping",name:"pong"})}var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{transports:["websocket"],autoConnect:!1},null);return{login:function(){t.send(e(""))},register:function(){},verify:function(){}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},288:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),u=n(38),l=n(272),i=r(l),c=n(274),s=r(c),d=n(273),f=r(d),p=n(271),m=r(p),E=n(279),h=r(E),v=n(283),y=r(v),g=n(276),b=r(g),O=n(281),_=r(O),T=n(275),S=r(T);t.default=a.default.createElement(u.Route,{path:"/",component:i.default},a.default.createElement(u.IndexRoute,{component:s.default}),a.default.createElement(u.Route,{component:f.default},a.default.createElement(u.Route,{name:"Sign In",path:"login",component:d.Login}),a.default.createElement(u.Route,{name:"Register",path:"register",component:d.Register}),a.default.createElement(u.Route,{name:"Triage",path:"triage",component:d.Triage}),a.default.createElement(u.Route,{name:"Recovery",path:"recovery",component:d.Recovery}),a.default.createElement(u.Route,{name:"Verification",path:"verify/:token"})),a.default.createElement(u.Route,{name:"Account",path:"account",component:m.default},a.default.createElement(u.IndexRoute,{component:p.Profile})),a.default.createElement(u.Route,{name:"Posts",path:"posts",component:_.default},a.default.createElement(u.Route,{name:"Post",path:":id"})),a.default.createElement(u.Route,{name:"Messenger",path:"messenger",component:h.default},a.default.createElement(u.IndexRoute,{component:E.Threads}),a.default.createElement(u.Route,{name:"Thread",path:":id",component:E.Messages})),a.default.createElement(u.Route,{name:"Media",path:"media",component:b.default}),a.default.createElement(u.Route,{name:"Todo",path:"todo",component:y.default}),a.default.createElement(u.Route,{name:"Server Log",path:"log",component:S.default}),a.default.createElement(u.Route,{path:"*"}))},289:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(170),a=r(o),u=n(169),l=r(u);t.default={io:l.default,todo:a.default}},290:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.history,r=(0,u.combineReducers)(a({},d.default,{socket:(0,p.default)(io),routing:l.routerReducer})),o=e||void 0,i=(0,u.applyMiddleware)((0,l.routerMiddleware)(n),c.default)(u.createStore);return i(r,o)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var u=n(61),l=n(83),i=n(163),c=r(i),s=n(291),d=r(s),f=n(297),p=r(f)},291:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(292),a=r(o),u=n(294),l=r(u),i=n(295),c=r(i),s=n(296),d=r(s),f=n(293),p=r(f);t.default={io:a.default,todo:l.default,tokens:c.default,user:d.default,messenger:p.default}},292:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nsp:null,id:null,connected:!1,disconnected:!0,reconnecting:!1,options:{},rooms:[],warnings:[],errors:[],session:[]},t=arguments[1];if(!t.type.startsWith("IO"))return e;var n=function(){var n=t.type,r=t.error,o=(t.data,t.id),a=void 0===o?null:o,l=t.nsp,i=t.connected,v=t.disconnected,y=(t.socket,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u({},e,{id:a,nsp:l,connected:i,disconnected:v},t)});switch(n){default:return{v:e};case p:return{v:y()};case m:case E:case d:case f:return{v:y()};case c:return{v:u({},e,{id:a,nsp:l,connected:i,disconnected:v})};case s:return{v:u({},e,{id:a,nsp:l,connected:i,disconnected:v})};case h:return{v:u({},e,{id:a,nsp:l,connected:i,disconnected:v,errors:e.errors.concat(r)})}}}();return"object"===("undefined"==typeof n?"undefined":a(n))?n.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var l=(n(61),n(169)),i=r(l),c=i.default.IO_MESSAGE,s=(i.default.IO_INIT,i.default.IO_DATA),d=(i.default.IO_EMIT,i.default.IO_OPEN,i.default.IO_CLOSE,i.default.IO_DESTROY,i.default.IO_CONNECT,i.default.IO_RECONNECT,i.default.IO_DISCONNECT,i.default.IO_AUTHENTICATE,i.default.IO_RECONNECTING,i.default.IO_OPENED),f=i.default.IO_CLOSED,p=(i.default.IO_DESTROYED,i.default.IO_INITIALIZED),m=i.default.IO_CONNECTED,E=i.default.IO_DISCONNECTED,h=(i.default.IO_RECONNECTED,i.default.IO_AUTHORIZED,i.default.IO_UNAUTHORIZED,i.default.IO_RECONNECT_ATTEMPT,i.default.IO_RECONNECT_FAILED,i.default.IO_RECONNECT_ERROR,i.default.IO_CONNECT_ERROR,i.default.IO_ERROR);i.default.IO_WARN},293:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messages:[],threads:[],events:[],typing:[],party:[],thread:null,message:{text:"",thread:"",typing:!1}},t=arguments[1],n=t.type,r=t.messages,E=t.threads,h=t.event,v=t.typing,y=t.message,g=t.thread,b=void 0===g?e.thread:g;switch(n){default:return e;case a:return o({},e,{threads:E});case u:return o({},e,{messages:r});case l:return o({},e,{message:o({},e.message,{text:y})});case i:return o({},e,{message:o({},e.message,{text:""})});case c:return o({},e,{message:o({},e.message,{typing:v})});case s:return o({},e,{thread:b});case d:return o({},e,{thread:null});case f:case p:case m:e.events=e.events.concat(h);case f:return o({},e,{party:e.party.concat(h.uid)});case p:return o({},e,{party:e.party.filter(function(e){return h.uid!==e})});case m:return o({},e,{typing:v?e.typing.concat(h.uid):e.typing.filter(function(e){return h.uid!==e})})}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var a="MESSENGER_FETCH_THREADS",u="MESSENGER_FETCH_MESSAGES",l="MESSENGER_UPDATE_MESSAGE",i="MESSENGER_SEND_MESSAGE",c="MESSENGER_TYPING",s="MESSENGER_JOIN_THREAD",d="MESSENGER_LEAVE_THREAD",f="MESSENGER_JOINED_EVENT",p="MESSENGER_LEFT_EVENT",m="MESSENGER_TYPING_EVENT"},294:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{todos:[],todo:{id:"",text:"",title:"",createAt:"",updateAt:"",completed:!1}},t=arguments[1],n=t.type,r=t.todos,u=void 0===r?[]:r;switch(n){default:return e;case a.FETCH_TODOS:return o({},e,{todos:u});case a.CREATE_TODO:return e;case a.DELETE_TODO:return e;case a.UPDATE_TODO:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var a=n(170)},295:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{jwt:null};arguments[1];return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},296:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null};arguments[1];return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},297:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(t,r){function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.connected,o=i.disconnected,a=i.id,u=void 0===a?null:a,c=i.nsp;return t(l({type:e,ns:c,socket:{connected:r,disconnected:o,id:u,socket:i}},n))}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return console.log(e)},t=arguments[1];arguments[2];return function(n){var r=JSON.parse(n);return o(m,{event:t}),e(r)}}var u=r().socket;if(e in u)return u[e].connect();var i=io.connect(e,u.options);return i.on("connect",function(){return o(h)}).on("disconnect",function(){return o(_)}).on("reconnect",function(e){return o(g,{count:e})}).on("reconnecting",function(e){return o(p,{count:e})}).on("reconnect_attempt",function(){return o(O)}).on("reconnect_failed",function(){return o(b)}).on("reconnect_error",function(e){return o(s,{error:e})}).on("error",function(e){return o(s,{error:e})}).on("connect_error",function(e){return o(s,{error:e})}).on("connect_timeout",function(){return o(c)}).on("event",function(e){return o(d,{event:e})}).on("message",function(e){return o(f,{data:JSON.parse(e)})}),n(i,t),o(E,{actions:{send:function(e,n){return t(function(t){return i.send(JSON.stringify(e),a(n,"message",t))})},emit:function(e,n,r){return t(function(t){return i.emit(e,JSON.stringify(n),a(r,e,t))})},open:function(){return i.open()},close:function(){return i.close()},connect:function(){return i.connect()},disconnect:function(){return i.disconnect()},destroy:function(){return o(T)}}})}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{transports:["websocket"]};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{io:e,options:t,namespaces:[],rooms:[],errors:[]},a=arguments[1],u=a.type,i=a.ns,d=a.socket,f=a.actions,p=(a.count,a.error),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l({},n,o({},i,l({},n[i]||{},d,t)),e)};switch(u){default:return n;case E:return m({namespaces:[].concat(r(n.namespaces),[i])},l({},f,{ns:i}));case v:return m();case h:return m();case g:return m();case y:return m();case _:return m();case T:return delete n[i],m({namespaces:n.namespaces.filter(function(e){return e!==i})});case c:return m();case s:return m({errors:[].concat(r(n.errors),[p])})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ACTIONS=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=u;var i=(n(61),["IO.INITIALIZE","IO.TIMEOUT","IO.ERROR","IO.EVENT","IO.MESSAGE","IO.EMIT","IO.SEND","IO.RECONNECTING","IO.ACKNOWLEDGED","IO.INITIALIZED","IO.CONNECTED","IO.OPENED","IO.CLOSED","IO.RECONNECTED","IO.RECONNECT_FAILED","IO.RECONNECT_ATTEMPT","IO.DISCONNECTED","IO.DESTROYED"]),c=(i[0],i[1]),s=i[2],d=i[3],f=i[4],p=(i[5],i[6],i[7]),m=i[8],E=i[9],h=i[10],v=i[11],y=i[12],g=i[13],b=i[14],O=i[15],_=i[16],T=i[17];({transports:["websocket"],reconnection:!0,reconnectionAttempts:Math.Infinity,reconnectionDelay:1e3,reconnectionDelayMax:5e3,randomizationFactor:.5,timeout:2e4,autoConnect:!0}),t.ACTIONS={connect:a}},298:function(e,t,n){"use strict";function r(e){var t=window.navigator;return void 0===t.mediaDevices&&(t.mediaDevices={}),void 0!==t.mediaDevices.getUserMedia?t.mediaDevices.getUserMedia(e):void(t.mediaDevices.getUserMedia=function(e){var n=t.getUserMedia||t.webkitGetUserMedia||t.mozGetUserMedia;return n?new Promise(function(r,o){n.call(t,e,r,o)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"MediaRecorder"in window?e?new Promise(function(n,r){var u=t.mimeType,l=(t.audioBitsPerSecond,t.videoBitsPerSecond,t.bitsPerSecond,{});if(u&&"string"==typeof u&&"isTypeSupported"in o&&o.isTypeSupported(u))l.mimeType=u;else if(u instanceof Array){var i=!0,c=!1,s=void 0;try{for(var d,f=u[Symbol.iterator]();!(i=(d=f.next()).done);i=!0){var p=d.value;if(o.isTypeSupported(p)){l.mimeType=p;break}}}catch(e){c=!0,s=e}finally{try{!i&&f.return&&f.return()}finally{if(c)throw s}}}n(new o(e,a({},t,l)))}):Promise.reject(new Error("Please pass in a media stream")):Promise.reject(new Error("MediaRecorder not supported."))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.GUM=r,t.MediaRecorder=o},483:function(e,t){},625:function(e,t,n){e.exports=n(252)}},[625]);